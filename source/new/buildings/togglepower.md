# 开关电源

电源开关功能已从《红色警戒2》中删除，因此侧边栏按钮和建筑断电的叠加动画都不可用。使用假超级武器的解决方法是可行的，但效果不佳。Ares重新添加了此功能（尽管不是侧边栏按钮）。

*版本 0.8 中的新功能。*



## 键盘快捷键

切换电源现在可用作正确的键盘快捷键，其功能类似于单击《泰伯利亚之日》侧边栏中的相应按钮。您可以在*界面*类别中找到它。

默认情况下，此键盘快捷键处于禁用状态：即使它已显示并且可以配置，它也不会执行任何操作。这是为了保持与原始的《尤里的复仇》兼容，后者没有此功能。

`[General]►TogglePowerAllowed=` **(boolean)**

​	是否可以开关电源。默认为 *no*。



## 光标

此功能使用的两个鼠标光标可以使用以下[*鼠标光标*](../mousecursors.md)定义进行自定义：

*TogglePower*: 显示建筑是否可以开关电源。只有玩家拥有的建筑物才能开关电源，如果`TogglePower=yes`，并且`Power`小于0或`Powered=yes`。

*NoTogglePower*:  建筑的电源无法开关时显示。



## 断电叠加动画

如果建筑断电，则显示叠加动画`poweroff.shp`，就像维修扳手一样。只有拥有这座建筑的玩家以及观战方才能看到这个叠加层，而其他玩家只会看到一个没有电源的建筑。

如果修复已关闭电源的建筑物，则会移动两个叠加动画以同时显示。

`poweroff.shp` 使用 `mousepal.pal` 调色板绘制。

## AI支持

如果启用了开关电源，则AI也可以使用它。AI将尝试应对由于产电不足而导致的停电。被间谍或原力护盾触发的停电或停电的AI玩家可以除外，不会尝试给基地断电。

如果可能的话，AI会尝试让基地防御在线。超级武器比消耗能量的建筑物更早被关闭，这些建筑物不是基地防御。

> **注意**
>
> 请假定顺序是不可预测的。不要依赖于AI关闭或重新开启建筑物的顺序。可能随时更改。
>

`[IQ]►TogglePower=` **(integer)**

定义 AI 玩家在低功耗情况下切换建筑物功率的 IQ 等级。小于 *0* 的值将停用此逻辑。默认为 *-1*。

`[General]►TogglePowerDelay=` **(integer - frames)**

定义电源检查之间的延迟。这使得AI玩家不会立即响应电量等级的变化。小于 *0* 的值将停用此逻辑。默认为 *45*。